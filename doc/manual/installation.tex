\chapter{Installation Instructions}
\label{chap:installation}
\section{Requirements}

The MCAPL software requires Java 8.  

\section{Installation}\index{installation}

\subsection{Installation of \ajpf\ 2017}\index{installation!Unix}\index{Unix}

\begin{itemize}
\begin{sloppypar}
\item Download \ajpfversion.tar.gz from source forge \texttt{http://sourceforge.net/projects/mcapl/files/mcapl/}.
\end{sloppypar}
\item Create a file \texttt{.jpf/site.properties} in your home directory with the path to \ajpfversion\ assigned to the value \texttt{mcapl}

  (e.g. \texttt{mcapl = \$\{user.home\}/Eclipse/\ajpfversion}).
\item Within the \ajpfversion\ directory you should find \texttt{build.xml} to which you can apply ant to build ajpf. (e.g., at the command line, \lstinline{ant compile} to just compile the files and \lstinline{ant build} to build and run regression tests (takes just under ten minutes on a 3GHz Macbook with 16 GB memory))
\item Make sure you have the bin sub-directory of \ajpfversion\ on your java class path.
\item We recommend you set the \texttt{AJPF\_HOME}\index{AJPF\_HOME} environment variable to give the path to your ajpf directory.
\end{itemize}

\subsection{Installation of Development Branch}\index{installation!development branch}\index{development branch}

You will need an installation of the Git\index{Git} version control system (recent versions of the Eclipse IDE come packaged with Git).  It is worth taking some time before you start to understand the basics of Git, particularly checking out versions, switching between branches, commiting changes and managing local and remote repositories.  There is an introduction to Git on the system's website\footnote{\url{http://git-scm.com/book/en/v2/Getting-Started-About-Version-Control}}.

\begin{itemize}
\begin{sloppypar}
\item Clone the git repository from sourceforge.  If you have a sourceforge account and are a member of the \ajpf\ development team then do
\begin{small}
\begin{verbatim}
git clone ssh://(soureforgeusername)@git.code.sf.net/p/mcapl/mcapl_code mcapl
\end{verbatim}
\end{small}
Where \texttt{sourceforgeusername} is your user name on sourceforge.  Otherwise
\begin{verbatim}
git clone git://git.code.sf.net/p/mcapl/mcapl_code mcapl
\end{verbatim}
\end{sloppypar}
\item Create a file \texttt{.jpf/site.properties} in your home directory with the path to mcapl assigned to the value \texttt{mcapl} (e.g. \texttt{mcapl = \$\{user.home\}/Eclipse/mcapl}).
\item Within the mcapl directory you should find \texttt{build.xml} to which you can apply ant to build ajpf. (e.g., at the command line, \lstinline{ant compile} to just compile the files and ant build to build and run regression tests (takes just under ten minutes on a 3GHz Macbook with 16 GB memory))
\item Make sure you have the bin sub-directory of mcapl on your java class path.
\item We recommend you set the \texttt{AJPF\_HOME}\index{AJPF\_HOME} environment variable to give the path to your mcapl directory.
\end{itemize}

\section{Eclipse Installation}\index{installation!Eclipse}\index{Eclipse}

We also supply an eclipse \texttt{.project} file so you should be able to import \ajpfversion\ (or mcapl if using the development version)  into eclipse.
\begin{itemize}
\item You should then be able to build ajpf by clicking on the build.xml file.
\item Create a file \texttt{.jpf/site.properties} with the path to \ajpfversion\ (or mcapl if using the development version)  assigned to the value \texttt{mcapl} (e.g. \texttt{mcapl = \$\{user.home\}/Eclipse/\ajpfversion}).
\item We recommend you set the \texttt{AJPF\_HOME} environment variable to give the path to your ajpf directory.  If necessary you can do this within the Environment tab for individual Run Configurations.
\end{itemize}

\section{Testing the Installation}

There are a number of JUnit\index{JUnit}\index{test} tests in the subdirectory \texttt{/src/tests} and examples in \texttt{/src/examples}.\index{example}

